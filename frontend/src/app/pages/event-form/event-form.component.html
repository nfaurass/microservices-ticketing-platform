<section class="text-slate-900 px-6 font-sans">
  <a routerLink="/organizer-dashboard">< Back to dashboard</a>
  <div class="container mx-auto max-w-3xl">
    <h1 class="text-4xl font-bold mb-10">
      {{ isEdit ? 'Edit Event' : 'Create New Event' }}
    </h1>
    <form (ngSubmit)="submit()" class="space-y-2">
      <div>
        <label class="block font-medium mb-1">Event Title</label>
        <input type="text" [(ngModel)]="event.title" name="title" required
               class="w-full border border-slate-300 rounded-lg p-3"/>
      </div>
      <div>
        <label class="block font-medium mb-1">Event Image</label>
        <input type="text" [(ngModel)]="event.imageUrl" name="image" required
               class="w-full border border-slate-300 rounded-lg p-3"/>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block font-medium mb-1">Date</label>
          <input type="date" [(ngModel)]="event.date" name="date" required
                 class="w-full border border-slate-300 rounded-lg p-3"/>
        </div>
        <div>
          <label class="block font-medium mb-1">Venue</label>
          <input type="text" [(ngModel)]="event.venue" name="venue" required
                 class="w-full border border-slate-300 rounded-lg p-3"/>
        </div>
      </div>
      <div>
        <label class="block font-medium mb-1">Description</label>
        <textarea [(ngModel)]="event.description" name="description" rows="4" required
                  class="w-full border border-slate-300 rounded-lg p-3"></textarea>
      </div>
      <div>
        <h2 class="text-xl font-semibold mb-2">Ticket Types</h2>
        <div class="space-y-3 mb-4">
          <div *ngFor="let ticket of event.ticketTypes; let i = index"
               class="flex items-center justify-between border p-3 rounded-lg">
            <div>
              <p class="font-medium">{{ ticket.name }}</p>
              <p class="text-slate-600 text-sm">
                ${{ ticket.price }} &bull; {{ ticket.available }} tickets
              </p>
              <p>{{ ticket.description }}</p>
            </div>
            <button type="button" (click)="removeTicketType(i)" class="text-sm text-red-500 hover:underline">
              Remove
            </button>
          </div>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-2">
          <input type="text" [(ngModel)]="newTicket.name" name="newName" placeholder="Type (e.g. VIP)"
                 class="border border-slate-300 rounded-lg p-3"/>
          <input type="number" [(ngModel)]="newTicket.price" name="newPrice" placeholder="Price"
                 class="border border-slate-300 rounded-lg p-3"/>
          <input type="number" [(ngModel)]="newTicket.available" name="newQty" placeholder="Qty"
                 class="border border-slate-300 rounded-lg p-3"/>
          <input type="text" [(ngModel)]="newTicket.description" name="newDescription" placeholder="Description"
                 class="border border-slate-300 rounded-lg p-3 col-span-3"/>
        </div>
        <button type="button" (click)="addTicketType()"
                class="mt-3 px-5 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-700 transition">
          Add Ticket Type
        </button>
      </div>
      <div class="pt-6">
        <button type="submit" class="w-full bg-slate-900 text-white py-3 rounded-lg hover:bg-slate-700 transition">
          {{ isEdit ? 'Update Event' : 'Create Event' }}
        </button>
      </div>
    </form>
  </div>
</section>
